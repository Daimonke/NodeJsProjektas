<%- include('partials/head') %>
    <%- include('partials/header') %>
        <div class="registerWrapper">
            <h1>Register a new user</h1>
            <form action="/register" method="post">
                <label for="username">Username</label>
                <input type="text" name="username" minlength="4" required>
                <label for="password">Password</label>
                <input type="password" name="password" minlength="4" required>
                <label for="repeatPassword">Repeat password</label>
                <input type="password" name="repeatPassword" minlength="4" required>
                <input type="submit" value="Create">
            </form>
        </div>

        <script>
            const form = document.querySelector('form');
            const password = document.querySelector('input[name="password"]');
            const repeatPassword = document.querySelector('input[name="repeatPassword"]');
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                if (password.value !== repeatPassword.value) {
                    alert('Passwords do not match');
                    return;
                }

                form.submit();
            });
        </script>